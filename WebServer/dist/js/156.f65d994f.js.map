{"version":3,"file":"js/156.f65d994f.js","mappings":"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","sources":["webpack://webserve/./src/views/back/Chating.vue","webpack://webserve/./src/views/back/Chating.vue?329b"],"sourcesContent":["<template>\r\n  <el-menu\r\n    :default-active=\"activeIndex\"\r\n    class=\"el-menu-demo\"\r\n    mode=\"horizontal\"\r\n    @select=\"handleSelect\"\r\n  >\r\n    <el-menu-item index=\"1\">{{ username }}</el-menu-item>\r\n    <el-sub-menu index=\"2\">\r\n        <template #title>工具</template>\r\n        <el-menu-item index=\"2-1\"><router-link to=\"https://blog.csdn.net/m0_64091529?type=blog\">CSDN</router-link></el-menu-item>\r\n        <el-menu-item index=\"2-2\"><router-link to=\"https://chat.tomyres.com/#/pages/web/index\">ChatGPT</router-link></el-menu-item>\r\n        <el-menu-item index=\"2-3\"><router-link to=\"https://www.bilibili.com/\">bilibili</router-link></el-menu-item>\r\n        <el-sub-menu index=\"2-4\">\r\n          <template #title>其他</template>\r\n          <el-menu-item index=\"2-4-1\">love</el-menu-item>\r\n          <el-menu-item index=\"2-4-2\"><router-link to=\"https://survivesjtu.gitbook.io/survivesjtumanual/li-zhi-pian/ben-ke-si-nian-yao-zuo-shen-me\">你想要做什么</router-link></el-menu-item>\r\n          <el-menu-item index=\"2-4-3\"><router-link to=\"https://www.4kvm.net/\">免费高清视频</router-link></el-menu-item>\r\n        </el-sub-menu>\r\n      </el-sub-menu>\r\n      <el-menu-item index=\"3\">动态</el-menu-item>\r\n      <el-menu-item index=\"4\" disabled>聊天</el-menu-item>\r\n  </el-menu>\r\n    <div class=\"chat-container\">\r\n      <div class=\"chat-messages\" ref=\"chatContainer\">\r\n        <div v-for=\"(message, index) in messages\" :key=\"index\" class=\"message\">{{ message }}</div>\r\n      </div>\r\n      <div class=\"input-container\">\r\n        <div class=\"userid\">用户：{{username }}</div>\r\n        <input v-model=\"inputMessage\" type=\"text\" placeholder=\"输入消息\">\r\n        <el-button type=\"primary\" @click=\"sendMessage('ruleForm')\">提交</el-button>\r\n      </div>\r\n      <div>\r\n        ここにメッセージを入力し、送信ボタンをクリックするとメッセージが送信されます。\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { ref } from 'vue';\r\n  import axios from 'axios';\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        username: '',\r\n        messages: [], // 存储聊天消息\r\n        inputMessage: '', // 输入框中的消息\r\n        //获取时间\r\n        year: '',\r\n        month: '',\r\n        day: '',\r\n        hour: '',\r\n        minute: '',\r\n        second: '',\r\n      };\r\n    },\r\n    mounted() {\r\n      this.loadHistoryMessages(); // 在组件加载时调用加载历史消息的方法\r\n      this.username = this.$route.query.username; // 从路由中获取用户名\r\n      const now = new Date();\r\n      const options = {\r\n        year: 'numeric',\r\n        month: '2-digit',\r\n        day: '2-digit',\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n        second: '2-digit',\r\n        hour12: false,\r\n        timeZone: 'Asia/Shanghai',\r\n      };\r\n      const date = now.toLocaleString('en-US', options).split(', ')[0];\r\n      const time = now.toLocaleString('en-US', options).split(', ')[1];\r\n      [this.month, this.day, this.year] = date.split('/');\r\n      [this.hour, this.minute, this.second] = time.split(':');\r\n    },\r\n    methods: {\r\n        loadHistoryMessages() {\r\n            axios.get('http://localhost:8081/api/history-messages') // 发送GET请求获取历史消息数据\r\n            .then(response => {\r\n            var msgs = response.data.msg; // 将返回的历史消息数据存储到messages数组中\r\n            var user = response.data.user;\r\n            //msgs是一个json数组，对他进行遍历\r\n            for (var i = 0; i < msgs.length; i++) {\r\n                this.messages.push(user[i] + \":\" +msgs[i]);\r\n            }\r\n            this.scrollToBottom(); // 滚动到底部\r\n        })\r\n          .catch(error => {\r\n          console.error('Failed to load history messages:', error);\r\n        });\r\n        },\r\n      sendMessage() {\r\n        if (this.inputMessage) {\r\n          //实现往后端推送该消息进行存储\r\n          axios.get('http://localhost:8081/api/send-message', {\r\n            //必须要指定params参数，否则后端无法获取到该参数\r\n            params: {\r\n              username: this.username,\r\n              message: this.year+\"年\"+ this.month+\"月\"+this.day+\"日\"+this.hour+\"时\"+this.minute+\"分\"+this.second+\"秒 写到：\" + this.inputMessage\r\n            }\r\n          }).then(response => {\r\n            if (response.data.state == \"right\"){\r\n              this.messages.push(this.username + \":\" + this.year+\"年\"+ this.month+\"月\"+this.day+\"日\"+this.hour+\"时\"+this.minute+\"分\"+this.second+\"秒 写到： \" + this.inputMessage);\r\n              this.inputMessage = ''; // 清空输入框中的消息\r\n              this.scrollToBottom(); // 滚动到底部\r\n            } else{\r\n              alert(\"发送失败\");\r\n            }\r\n          }).catch(error => {\r\n            console.error('Failed to send message:', error);\r\n          });\r\n        }\r\n      },\r\n      scrollToBottom() {\r\n        this.$refs.chatContainer.scrollTop = this.$refs.chatContainer.scrollHeight;\r\n      }\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style>\r\n  .chat-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 500px;\r\n  }\r\n  \r\n  .chat-messages {\r\n    background-image: url('../../assets/ChatBackgroud.png'); /* 设置背景图片路径 */\r\n    flex-grow: 1;\r\n    overflow-y: auto;\r\n    border: 1px solid #ccc;\r\n    padding: 10px;\r\n  }\r\n  \r\n  .message {\r\n    margin-bottom: 10px;\r\n  }\r\n  \r\n  .input-container {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 10px;\r\n    margin-top: 10px;\r\n  }\r\n  \r\n  input[type=\"text\"] {\r\n    flex-grow: 1;\r\n    height: 30px;\r\n  }\r\n  \r\n  button {\r\n    padding: 5px 10px;\r\n  }\r\n\r\n  .userid {\r\n  border: 1px solid #000;\r\n  padding: 7px;\r\n}\r\n  </style>","import { render } from \"./Chating.vue?vue&type=template&id=10274793\"\nimport script from \"./Chating.vue?vue&type=script&lang=js\"\nexport * from \"./Chating.vue?vue&type=script&lang=js\"\n\nimport \"./Chating.vue?vue&type=style&index=0&id=10274793&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","ref","_createElementVNode","_createElementBlock","_Fragment","_createVNode","_component_el_menu","_ctx","activeIndex","mode","onSelect","handleSelect","default","_withCtx","_component_el_menu_item","index","_createTextVNode","_toDisplayString","$data","username","_","_component_el_sub_menu","title","_component_router_link","to","disabled","_hoisted_1","_hoisted_2","_renderList","messages","message","key","_hoisted_3","_hoisted_4","_cache","$event","inputMessage","type","placeholder","_component_el_button","onClick","$options","sendMessage","_hoisted_5","data","year","month","day","hour","minute","second","mounted","this","loadHistoryMessages","$route","query","now","Date","options","hour12","timeZone","date","toLocaleString","split","time","methods","axios","get","then","response","msgs","msg","user","i","length","push","scrollToBottom","catch","error","console","params","state","alert","$refs","chatContainer","scrollTop","scrollHeight","__exports__","render"],"sourceRoot":""}